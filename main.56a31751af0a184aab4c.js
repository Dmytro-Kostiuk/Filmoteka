(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+5e+":function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,l){var i,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,o="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<img class="img" src="https://image.tmdb.org/t/p/w500'+c(typeof(i=null!=(i=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?i:r)===o?i.call(s,{name:"poster_path",hash:{},data:l,loc:{start:{line:1,column:53},end:{line:1,column:68}}}):i)+'" alt="'+c(typeof(i=null!=(i=u(n,"title")||(null!=t?u(t,"title"):t))?i:r)===o?i.call(s,{name:"title",hash:{},data:l,loc:{start:{line:1,column:75},end:{line:1,column:84}}}):i)+'"></img>\r\n<div class="info" data-id='+c(typeof(i=null!=(i=u(n,"id")||(null!=t?u(t,"id"):t))?i:r)===o?i.call(s,{name:"id",hash:{},data:l,loc:{start:{line:2,column:26},end:{line:2,column:32}}}):i)+" data-image="+c(typeof(i=null!=(i=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?i:r)===o?i.call(s,{name:"poster_path",hash:{},data:l,loc:{start:{line:2,column:44},end:{line:2,column:59}}}):i)+' data-title="'+c(typeof(i=null!=(i=u(n,"title")||(null!=t?u(t,"title"):t))?i:r)===o?i.call(s,{name:"title",hash:{},data:l,loc:{start:{line:2,column:72},end:{line:2,column:81}}}):i)+'" data-vote='+c(typeof(i=null!=(i=u(n,"vote_average")||(null!=t?u(t,"vote_average"):t))?i:r)===o?i.call(s,{name:"vote_average",hash:{},data:l,loc:{start:{line:2,column:93},end:{line:2,column:109}}}):i)+"\r\n    data-release="+c(typeof(i=null!=(i=u(n,"release_date")||(null!=t?u(t,"release_date"):t))?i:r)===o?i.call(s,{name:"release_date",hash:{},data:l,loc:{start:{line:3,column:17},end:{line:3,column:33}}}):i)+' data-genres="'+c(typeof(i=null!=(i=u(n,"genresName")||(null!=t?u(t,"genresName"):t))?i:r)===o?i.call(s,{name:"genresName",hash:{},data:l,loc:{start:{line:3,column:47},end:{line:3,column:61}}}):i)+'">\r\n    <h1 class="upper-text film-name">'+c(typeof(i=null!=(i=u(n,"title")||(null!=t?u(t,"title"):t))?i:r)===o?i.call(s,{name:"title",hash:{},data:l,loc:{start:{line:4,column:37},end:{line:4,column:46}}}):i)+'</h1>\r\n    <div class="list-container">\r\n        <ul class="list">\r\n            <li class="list1-item">Vote/Votes</li>\r\n            <li class="list1-item">Popularity</li>\r\n            <li class="list1-item">Original Title</li>\r\n            <li class="list1-item">Genre</li>\r\n        </ul>\r\n        <ul class="list">\r\n            <li class="list2-item">\r\n                <div class="number"><span>'+c(typeof(i=null!=(i=u(n,"vote_average")||(null!=t?u(t,"vote_average"):t))?i:r)===o?i.call(s,{name:"vote_average",hash:{},data:l,loc:{start:{line:14,column:42},end:{line:14,column:58}}}):i)+"</span></div>/ "+c(typeof(i=null!=(i=u(n,"vote_count")||(null!=t?u(t,"vote_count"):t))?i:r)===o?i.call(s,{name:"vote_count",hash:{},data:l,loc:{start:{line:14,column:73},end:{line:14,column:87}}}):i)+'\r\n            </li>\r\n            <li class="list2-item">'+c(typeof(i=null!=(i=u(n,"popularity")||(null!=t?u(t,"popularity"):t))?i:r)===o?i.call(s,{name:"popularity",hash:{},data:l,loc:{start:{line:16,column:35},end:{line:16,column:49}}}):i)+'</li>\r\n            <li class="upper-text list2-item">'+c(typeof(i=null!=(i=u(n,"original_title")||(null!=t?u(t,"original_title"):t))?i:r)===o?i.call(s,{name:"original_title",hash:{},data:l,loc:{start:{line:17,column:46},end:{line:17,column:64}}}):i)+'</li>\r\n            <li class="list2-item">'+c(typeof(i=null!=(i=u(n,"genresName")||(null!=t?u(t,"genresName"):t))?i:r)===o?i.call(s,{name:"genresName",hash:{},data:l,loc:{start:{line:18,column:35},end:{line:18,column:49}}}):i)+'</li>\r\n        </ul>\r\n    </div>\r\n    <section>\r\n        <h2 class="upper-text about-title">about</h2>\r\n        <p class="about">'+c(typeof(i=null!=(i=u(n,"overview")||(null!=t?u(t,"overview"):t))?i:r)===o?i.call(s,{name:"overview",hash:{},data:l,loc:{start:{line:23,column:25},end:{line:23,column:37}}}):i)+'</p>\r\n    </section>\r\n    <div class="buttons">\r\n        <button class="watched-button modal-buttons"><span class="upper-text">add to watched</span></button>\r\n        <button class="modal-buttons queue-btn"><span class="upper-text">add to queue</span></button>\r\n    </div>\r\n</div>'},useData:!0})},0:function(e,t){},"0HMw":function(e,t,n){},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},"4din":function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMCIgaGVpZ2h0PSIwIiBjbGFzcz0iaGlkZGVuIj4KICA8c3ltYm9sIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE0IDEzIiBpZD0iZ29pdGhlYXJkIj4KICAgIDxwYXRoIGQ9Ik03IDEyLjg4bC0uOTgtLjk4QzIuMzggOC42OCAwIDYuNTEgMCAzLjg1IDAgMS42OCAxLjY4IDAgMy44NSAwIDUuMDQgMCA2LjIzLjU2IDcgMS40NyA3Ljc3LjU2IDguOTYgMCAxMC4xNSAwIDEyLjMyIDAgMTQgMS42OCAxNCAzLjg1YzAgMi42Ni0yLjM4IDQuODMtNi4wMiA4LjA1bC0uOTguOTh6IiBmaWxsPSIjRkY2QjA4Ij48L3BhdGg+CiAgPC9zeW1ib2w+CiAgPHN5bWJvbCBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgaWQ9ImZpbG1sb2dvIj4KICAgIDxwYXRoIGQ9Ik0xOS44MiAySDQuMThBMi4xOCAyLjE4IDAgMDAyIDQuMTh2MTUuNjRBMi4xOCAyLjE4IDAgMDA0LjE4IDIyaDE1LjY0QTIuMTggMi4xOCAwIDAwMjIgMTkuODJWNC4xOEEyLjE4IDIuMTggMCAwMDE5LjgyIDJ6TTcgMnYyME0xNyAydjIwTTIgMTJoMjBNMiA3aDVNMiAxN2g1bTEwIDBoNU0xNyA3aDUiIHN0cm9rZT0iIzgxODE4MSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjwvcGF0aD4KICA8L3N5bWJvbD4KICA8c3ltYm9sIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEyIDEyIiBpZD0ic2VhcmNoIj4KICAgIDxwYXRoIGQ9Ik01LjUgOS41YTQgNCAwIDEwMC04IDQgNCAwIDAwMCA4em01IDFMOC4zMjUgOC4zMjUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48L3BhdGg+CiAgPC9zeW1ib2w+Cjwvc3ZnPg=="},5:function(e,t){},"6/cO":function(e,t,n){var a='<footer class="footer"> <div class="container footer-content"> <div class="link-span">© 2020 | All Rights Reserved |</div> <div> <span> Developed with</span> <svg class="heard" width="14" height="13"> <use href="'+n("vy/h")(n("4din"),{hash:"#goitheard"})+'"></use> </svg> <span class="link-span">by</span> <a href="#" class="goit-link"> GoIT Students</a> </div> </div> </footer> ';e.exports=a},DrXy:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,l){var i,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,o="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <li class="film-item">\r\n        <img class="img-films" data-id="'+c(typeof(i=null!=(i=u(n,"id")||(null!=t?u(t,"id"):t))?i:r)===o?i.call(s,{name:"id",hash:{},data:l,loc:{start:{line:4,column:40},end:{line:4,column:46}}}):i)+'" src="https://image.tmdb.org/t/p/w500'+c(typeof(i=null!=(i=u(n,"image")||(null!=t?u(t,"image"):t))?i:r)===o?i.call(s,{name:"image",hash:{},data:l,loc:{start:{line:4,column:84},end:{line:4,column:93}}}):i)+'" alt="'+c(typeof(i=null!=(i=u(n,"title")||(null!=t?u(t,"title"):t))?i:r)===o?i.call(s,{name:"title",hash:{},data:l,loc:{start:{line:4,column:100},end:{line:4,column:109}}}):i)+'">\r\n        <h2 class="tittle-film">'+c(typeof(i=null!=(i=u(n,"title")||(null!=t?u(t,"title"):t))?i:r)===o?i.call(s,{name:"title",hash:{},data:l,loc:{start:{line:5,column:32},end:{line:5,column:41}}}):i)+'</h2>\r\n        <p class="genre-film">'+c(typeof(i=null!=(i=u(n,"genres")||(null!=t?u(t,"genres"):t))?i:r)===o?i.call(s,{name:"genres",hash:{},data:l,loc:{start:{line:6,column:30},end:{line:6,column:40}}}):i)+" | "+c(typeof(i=null!=(i=u(n,"reliaseDate")||(null!=t?u(t,"reliaseDate"):t))?i:r)===o?i.call(s,{name:"reliaseDate",hash:{},data:l,loc:{start:{line:6,column:43},end:{line:6,column:58}}}):i)+'<span class="rating-films">'+c(typeof(i=null!=(i=u(n,"vote")||(null!=t?u(t,"vote"):t))?i:r)===o?i.call(s,{name:"vote",hash:{},data:l,loc:{start:{line:6,column:85},end:{line:6,column:93}}}):i)+"</span>\r\n        </p>\r\n    </li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,l){var i;return null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:2,column:4},end:{line:9,column:13}}}))?i:""},useData:!0})},NgEA:function(e,t,n){var a=n("vy/h"),l=n("4din"),i='<header class="header"> <div class="container"> <div class="main-navigation"> <a href="#" class="link"> <svg class="icon-logo" width="24" height="24"> <use href="'+a(l,{hash:"#filmlogo"})+'"></use> </svg> <span class="text-logo">Filmoteka</span> </a> <ul class="list navigation"> <li class="nav-list"> <a href="#" class="link nav-link current logged-in">HOME</a> </li> <li class="nav-list"> <a href="#" data-link class="link nav-link logged-in">MY LIBRARY</a> </li> <li class="nav-list"> <a href="#" class="link nav-link js-logout logged-in">LOGOUT</a> </li> <li class="nav-list"> <a href="#" class="link nav-link js-login logged-out">LOGIN</a> </li> <li class="nav-list"> <a href="#" class="link nav-link js-signup logged-out">SIGN UP</a> </li> </ul> <div class="auth-backdrop hidden js-backdrop"> <div class="auth-modal js-modal"> <form class="js-register-form"></form> <form class="js-login-form"></form> </div> </div> </div> <form action="" class="form"> <input type="text" name="query" placeholder="Поиск фильмов" class="form-input"/> <button type="submit" class="form-button"> <svg class="icon-logo" width="12" height="12"> <use href="'+a(l,{hash:"#search"})+'"></use> </svg> </button> </form> <p class="search-error hidden"> Search result not successful. Enter the correct movie name and </p> </div> </header> <main> <section class="section" id="section"> <div class="container"> <ul class="list films-list"></ul> </div> </section> <div id="paginator-placeholder"></div> </main> ';e.exports=i},QfWi:function(e,t,n){"use strict";n.r(t);n("0HMw");var a=n("6/cO"),l=n.n(a),i=n("tYtW"),s=n.n(i);n("lYjL"),n("Se8w"),n("lmye"),n("bEJU"),n("D/wG"),n("wCa+"),n("JBxO"),n("FdtR"),n("Muwe"),n("aZFp"),n("wcNg");function r(e,t,n,a,l,i,s){try{var r=e[i](s),o=r.value}catch(e){return void n(e)}r.done?t(o):Promise.resolve(o).then(a,l)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(a,l){var i=e.apply(t,n);function s(e){r(i,a,l,s,o,"next",e)}function o(e){r(i,a,l,s,o,"throw",e)}s(void 0)}))}}function c(e){return u.apply(this,arguments)}function u(){return(u=o(regeneratorRuntime.mark((function e(t){var n,a,l,i,s,r,o,c,u,d,p,g,h,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.page,a=t.perPage,l=t.sPerPage,i=void 0===l?20:l,s=t.doFetch,r=n*a,o=[],c=[],u=(n-1)*a;case 6:if(!(u<r)){e.next=22;break}if(!c[u]){e.next=12;break}o.push(c[u]),u++,e.next=20;break;case 12:return d=Math.floor(u/i)+1,e.next=15,s(d);case 15:for(p=e.sent,g=d*i,h=0,m=(d-1)*i;m<g;m++)f=p[h++],c[m]=Object.assign({sPage:d},f);case 20:e.next=6;break;case 22:return e.abrupt("return",o);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=768,p=1024;function g(){var e=window.innerWidth;return e>p?9:e>d?8:4}function h(){var e=window.innerWidth;return e>p||e>d?1:0}var m=n("qIEf"),f=n.n(m);function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var y="da596067165f304bd61b992449ff5b38",b="https://api.themoviedb.org/3",I=function(){function e(){this.searchQ="",this.page=1,this.id=null}var t,n,a,l=e.prototype;return l.fetchPopularFilmsCount=function(){return fetch("https://api.themoviedb.org/3/trending/movie/day?&page=1&api_key=da596067165f304bd61b992449ff5b38").then((function(e){return e.json()})).then((function(e){return e.total_results}))},l.fetchPopularFilms=function(){return c({page:this.page,perPage:g(),doFetch:function(e){return fetch(b+"/trending/movie/day?&page="+e+"&api_key="+y).then((function(e){return e.json()})).then((function(e){return e.results}))}})},l.fetchFilmsCount=function(){var e=b+"/search/movie?&page=1&api_key="+y+"&query="+this.searchQ;return fetch(e).then((function(e){return e.json()})).then((function(e){return e.total_results}))},l.fetchFilms=function(){var e=this;return c({page:this.page,perPage:g(),doFetch:function(t){var n=b+"/search/movie?&page="+t+"&api_key="+y+"&query="+e.searchQ;return fetch(n).then((function(e){return e.json()})).then((function(e){return e.results}))}})},l.fetchDetailFilm=function(){var e=b+"/movie/"+this.id+"?api_key="+y;return fetch(e).then((function(e){return e.json()}))},l.fetchGenres=function(){return fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=da596067165f304bd61b992449ff5b38").then((function(e){return e.json()})).then((function(e){return e.genres}))},l.fetchDetailFilmWithNameGerges=function(){return this.fetchDetailFilm().then((function(e){return Object.assign({},e,{release_date:e.release_date.split("-")[0],genresName:e.genres.map((function(e){return e.name=" "+e.name}))})}))},l.insertGenres=function(){var e=this;return this.fetchPopularFilms().then((function(t){return e.fetchGenres().then((function(e){return t.map((function(t){return Object.assign({},t,{release_date:t.release_date.split("-")[0],genres:t.genre_ids.map((function(t){return e.filter((function(e){return e.id===t})).map((function(e){return e.name=" "+e.name}))})).flat()})}))}))}))},l.insertSearhGenres=function(){var e=this;return this.fetchFilms().then((function(t){return e.fetchGenres().then((function(e){return t.map((function(t){return Object.assign({},t,{release_date:t.release_date.split("-")[0],genres:t.genre_ids.map((function(t){return e.filter((function(e){return e.id===t})).map((function(e){return e.name=" "+e.name}))})).flat()})}))}))}))},l.resetPage=function(){this.page=1},t=e,(n=[{key:"query",get:function(){return this.searchQ},set:function(e){this.searchQ=e}}])&&v(t.prototype,n),a&&v(t,a),e}(),w=(n("NPBq"),n("+5e+")),P=n.n(w);n("SgDD");function k(){return{bodyRef:document.querySelector("body")}}var M=n("NgEA"),x=n.n(M),L=n("Zxpw"),j=n.n(L),S=(n("IvQZ"),n("4NM0"),n("y+rR")),A=n.n(S),_=n("DrXy"),D=n.n(_);new I;function E(){var e=k();e.bodyRef.innerHTML="",e.bodyRef.insertAdjacentHTML("beforeend",A.a),e.bodyRef.insertAdjacentHTML("beforeend",l.a);var t=document.querySelector(".films-list"),n=document.querySelector(".link"),a=document.querySelector("[data-link]"),i=document.querySelector(".watchedPageBtn"),s=document.querySelector(".queuePageBtn");function r(){t.innerHTML="",s.classList.remove("current"),i.classList.add("current");var e=JSON.parse(localStorage.getItem("watched"));console.log(e),null===e?t.insertAdjacentHTML("beforeend",'<li><div class="notification"><h2>You do not have to watched movies. Add them.</h2></div></li>'):t.insertAdjacentHTML("beforeend",D()(e))}r(),a.addEventListener("click",F),n.addEventListener("click",F),i.addEventListener("click",r),s.addEventListener("click",(function(){t.innerHTML="",s.classList.add("current"),i.classList.remove("current");var e=JSON.parse(localStorage.getItem("queue"));console.log(e),null===e?t.insertAdjacentHTML("beforeend",'<li><div class="notification"><h2>You do not have to queue movies to watch. Add them.</h2></div></li>'):t.insertAdjacentHTML("beforeend",D()(e))})),t.addEventListener("click",(function(t){if("IMG"===t.target.nodeName){var n=t.target.getAttribute("data-id");e.bodyRef.insertAdjacentHTML("beforeend",'<div class="backdrop is-hidden"></div>'),C(n)}}))}var T=[],O=[];function C(e){var t=new I,n=document.querySelector(".backdrop");n.innerHTML="",n.insertAdjacentHTML("beforeend",s.a);var a={modalContent:document.querySelector("[data-modal]"),homelink:document.querySelector("[data-home]"),liblink:document.querySelector("[data-lib]"),logolink:document.querySelector("[data-logo]")};function l(){n.classList.add("is-hidden"),window.removeEventListener("keydown",i),n.remove()}function i(e){"Escape"===e.code&&l()}t.id=e,t.fetchDetailFilmWithNameGerges().then((function(e){n.classList.remove("is-hidden"),a.modalContent.insertAdjacentHTML("beforeend",P()(e));var t=document.querySelector(".watched-button"),l=document.querySelector(".queue-btn"),s=document.querySelector(".info");t.addEventListener("click",(function(){var e=localStorage.getItem("watched"),t=localStorage.getItem("queue"),n={};if(n.id=s.dataset.id,n.genres=s.dataset.genres,n.image=s.dataset.image,n.title=s.dataset.title,n.vote=s.dataset.vote,n.reliaseDate=s.dataset.release,t&&t.includes(JSON.stringify(n))){var a=JSON.parse(localStorage.getItem("queue"));a=a.filter((function(e){return e.id!==n.id})),localStorage.setItem("queue",JSON.stringify(a))}if(e&&e.includes(JSON.stringify(n)))return void alert('Фильм уже добавлен в "Просмотренные"');T.push(n),localStorage.setItem("watched",JSON.stringify(T))})),l.addEventListener("click",(function(){var e={},t=localStorage.getItem("queue"),n=localStorage.getItem("watched");if(e.id=s.dataset.id,e.genres=s.dataset.genres,e.image=s.dataset.image,e.title=s.dataset.title,e.vote=s.dataset.vote,e.reliaseDate=s.dataset.release,n&&n.includes(JSON.stringify(e))){var a=JSON.parse(localStorage.getItem("watched"));a=a.filter((function(t){return t.id!==e.id})),console.log(a),localStorage.setItem("watched",JSON.stringify(a)),console.log("Now")}if(t&&t.includes(JSON.stringify(e)))return void alert('Фильм уже добавлен в "Очередь просмотров"');O.push(e),localStorage.setItem("queue",JSON.stringify(O))})),window.addEventListener("keydown",i)})),a.logolink.addEventListener("click",F),a.homelink.addEventListener("click",F),a.liblink.addEventListener("click",E),n.addEventListener("click",(function(e){e.target===e.currentTarget&&l()}))}var N,q;n("IlJM"),n("WB5j"),n("q8l/");function H(e){var t,n=e.elementRef,a=e.totalResults,l=e.perPage,i=e.loadPage;f()(n).pagination("destroy"),f()(n).pagination({items:a,itemsOnPage:l,cssStyle:"light-theme",prevText:"_",nextText:"_",displayedPages:(t=window.innerWidth,t>p||t>d?5:3),edges:h(),onPageClick:function(e,t){i(e)}})}N=f.a,q={init:function(e){var t=N.extend({items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:0,hrefTextPrefix:"#page-",hrefTextSuffix:"",prevText:"Prev",nextText:"Next",ellipseText:"&hellip;",ellipsePageSet:!0,cssStyle:"light-theme",listStyle:"",labelMap:[],selectOnClick:!0,nextAtFront:!1,invertPageOrder:!1,useStartEdge:!0,useEndEdge:!0,onPageClick:function(e,t){},onInit:function(){}},e||{}),n=this;return t.pages=t.pages?t.pages:Math.ceil(t.items/t.itemsOnPage)?Math.ceil(t.items/t.itemsOnPage):1,t.currentPage?t.currentPage=t.currentPage-1:t.currentPage=t.invertPageOrder?t.pages-1:0,t.halfDisplayed=t.displayedPages/2,this.each((function(){n.addClass(t.cssStyle+" simple-pagination").data("pagination",t),q._draw.call(n)})),t.onInit(),this},selectPage:function(e){return q._selectPage.call(this,e-1),this},prevPage:function(){var e=this.data("pagination");return e.invertPageOrder?e.currentPage<e.pages-1&&q._selectPage.call(this,e.currentPage+1):e.currentPage>0&&q._selectPage.call(this,e.currentPage-1),this},nextPage:function(){var e=this.data("pagination");return e.invertPageOrder?e.currentPage>0&&q._selectPage.call(this,e.currentPage-1):e.currentPage<e.pages-1&&q._selectPage.call(this,e.currentPage+1),this},getPagesCount:function(){return this.data("pagination").pages},setPagesCount:function(e){this.data("pagination").pages=e},getCurrentPage:function(){return this.data("pagination").currentPage+1},destroy:function(){return this.empty(),this},drawPage:function(e){var t=this.data("pagination");return t.currentPage=e-1,this.data("pagination",t),q._draw.call(this),this},redraw:function(){return q._draw.call(this),this},disable:function(){var e=this.data("pagination");return e.disabled=!0,this.data("pagination",e),q._draw.call(this),this},enable:function(){var e=this.data("pagination");return e.disabled=!1,this.data("pagination",e),q._draw.call(this),this},updateItems:function(e){var t=this.data("pagination");t.items=e,t.pages=q._getPages(t),this.data("pagination",t),q._draw.call(this)},updateItemsOnPage:function(e){var t=this.data("pagination");return t.itemsOnPage=e,t.pages=q._getPages(t),this.data("pagination",t),q._selectPage.call(this,0),this},getItemsOnPage:function(){return this.data("pagination").itemsOnPage},_draw:function(){var e,t=this.data("pagination"),n=q._getInterval(t);q.destroy.call(this);var a="UL"===("function"==typeof this.prop?this.prop("tagName"):this.attr("tagName"))?this:N("<ul"+(t.listStyle?' class="'+t.listStyle+'"':"")+"></ul>").appendTo(this);if(t.prevText&&q._appendItem.call(this,t.invertPageOrder?t.currentPage+1:t.currentPage-1,{text:t.prevText,classes:"prev"}),t.nextText&&t.nextAtFront&&q._appendItem.call(this,t.invertPageOrder?t.currentPage-1:t.currentPage+1,{text:t.nextText,classes:"next"}),t.invertPageOrder){if(n.end<t.pages&&t.edges>0){if(t.useStartEdge){var l=Math.max(t.pages-t.edges,n.end);for(e=t.pages-1;e>=l;e--)q._appendItem.call(this,e)}t.pages-t.edges>n.end&&t.pages-t.edges-n.end!=1?a.append('<li class="disabled"><span class="ellipse">'+t.ellipseText+"</span></li>"):t.pages-t.edges-n.end==1&&q._appendItem.call(this,n.end)}}else if(n.start>0&&t.edges>0){if(t.useStartEdge){var i=Math.min(t.edges,n.start);for(e=0;e<i;e++)q._appendItem.call(this,e)}t.edges<n.start&&n.start-t.edges!=1?a.append('<li class="disabled"><span class="ellipse">'+t.ellipseText+"</span></li>"):n.start-t.edges==1&&q._appendItem.call(this,t.edges)}if(t.invertPageOrder)for(e=n.end-1;e>=n.start;e--)q._appendItem.call(this,e);else for(e=n.start;e<n.end;e++)q._appendItem.call(this,e);if(t.invertPageOrder){if(n.start>0&&t.edges>0&&(t.edges<n.start&&n.start-t.edges!=1?a.append('<li class="disabled"><span class="ellipse">'+t.ellipseText+"</span></li>"):n.start-t.edges==1&&q._appendItem.call(this,t.edges),t.useEndEdge))for(e=(i=Math.min(t.edges,n.start))-1;e>=0;e--)q._appendItem.call(this,e)}else if(n.end<t.pages&&t.edges>0&&(t.pages-t.edges>n.end&&t.pages-t.edges-n.end!=1?a.append('<li class="disabled"><span class="ellipse">'+t.ellipseText+"</span></li>"):t.pages-t.edges-n.end==1&&q._appendItem.call(this,n.end),t.useEndEdge))for(e=l=Math.max(t.pages-t.edges,n.end);e<t.pages;e++)q._appendItem.call(this,e);t.nextText&&!t.nextAtFront&&q._appendItem.call(this,t.invertPageOrder?t.currentPage-1:t.currentPage+1,{text:t.nextText,classes:"next"}),t.ellipsePageSet&&!t.disabled&&q._ellipseClick.call(this,a)},_getPages:function(e){return Math.ceil(e.items/e.itemsOnPage)||1},_getInterval:function(e){return{start:Math.ceil(e.currentPage>e.halfDisplayed?Math.max(Math.min(e.currentPage-e.halfDisplayed,e.pages-e.displayedPages),0):0),end:Math.ceil(e.currentPage>e.halfDisplayed?Math.min(e.currentPage+e.halfDisplayed,e.pages):Math.min(e.displayedPages,e.pages))}},_appendItem:function(e,t){var n,a,l=this,i=l.data("pagination"),s=N("<li></li>"),r=l.find("ul");n={text:(e=e<0?0:e<i.pages?e:i.pages-1)+1,classes:""},i.labelMap.length&&i.labelMap[e]&&(n.text=i.labelMap[e]),n=N.extend(n,t||{}),e==i.currentPage||i.disabled?(i.disabled||"prev"===n.classes||"next"===n.classes?s.addClass("disabled"):s.addClass("active"),a=N('<span class="current">'+n.text+"</span>")):(a=N('<a href="'+i.hrefTextPrefix+(e+1)+i.hrefTextSuffix+'" class="page-link">'+n.text+"</a>")).click((function(t){return q._selectPage.call(l,e,t)})),n.classes&&a.addClass(n.classes),s.append(a),r.length?r.append(s):l.append(s)},_selectPage:function(e,t){var n=this.data("pagination");return n.currentPage=e,n.selectOnClick&&q._draw.call(this),n.onPageClick(e+1,t)},_ellipseClick:function(e){var t=this,n=this.data("pagination"),a=e.find(".ellipse");a.addClass("clickable").parent().removeClass("disabled"),a.click((function(e){if(!n.disable){var l=N(this),i=(parseInt(l.parent().prev().text(),10)||0)+1;l.html('<input type="number" min="1" max="'+n.pages+'" step="1" value="'+i+'">').find("input").focus().click((function(e){e.stopPropagation()})).keyup((function(e){var l=N(this).val();13===e.which&&""!==l?l>0&&l<=n.pages&&q._selectPage.call(t,l-1):27===e.which&&a.empty().html(n.ellipseText)})).bind("blur",(function(e){var l=N(this).val();return""!==l&&q._selectPage.call(t,l-1),a.empty().html(n.ellipseText),!1}))}return!1}))}},N.fn.pagination=function(e){return q[e]&&"_"!=e.charAt(0)?q[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void N.error("Method "+e+" does not exist on jQuery.pagination"):q.init.apply(this,arguments)};n("RtS0"),n("3dw1");var R=n("SzhR");n("VwVG"),n("ELjB");var G={apiKey:"AIzaSyD8FnUfZWnKXjBhhdLmvKeEnxMua2fFWzk",authDomain:"filmoteka-ce20f.firebaseapp.com",projectId:"filmoteka-ce20f",storageBucket:"filmoteka-ce20f.appspot.com",messagingSenderId:"1092324271578",appId:"1:1092324271578:web:801259c858eac0c4e10ce3"};function J(){R.a.apps.length?R.a.app():R.a.initializeApp(G),function(){var e=document.querySelector(".js-signup"),t=document.querySelector(".js-backdrop"),n=document.querySelector(".js-register-form");function a(){window.removeEventListener("keydown",l),t.classList.add("hidden"),n.innerHTML=""}function l(e){"Escape"===e.code&&a()}e.addEventListener("click",(function(){window.addEventListener("keydown",l),n.insertAdjacentHTML("beforeend",'<label>\n              <input\n                type="email"\n                name="email"\n                autocomplete="off"\n                placeholder="Email"\n                class="auth-input"\n                required\n              />\n            </label>\n            <br />\n            <label>\n              <input\n                name="password"\n                type="password"\n                placeholder="Password"\n                class="auth-input"\n                required\n              />\n            </label>\n            <br />\n            <button type="submit" class="auth-btn">Sign up</button>\n         '),t.classList.remove("hidden")})),t.addEventListener("click",(function(e){e.target===e.currentTarget&&a()}))}(),function(){var e=document.querySelector(".js-login"),t=document.querySelector(".js-backdrop"),n=document.querySelector(".js-login-form");function a(){window.removeEventListener("keydown",l),t.classList.add("hidden"),n.innerHTML=""}function l(e){"Escape"===e.code&&a()}console.log(t),e.addEventListener("click",(function(){window.addEventListener("keydown",l),n.insertAdjacentHTML("beforeend",'<label>\n              <input\n                type="email"\n                name="login-email"\n                autocomplete="off"\n                placeholder="Email"\n                class="auth-input"\n                required\n              />\n            </label>\n            <br />\n            <label>\n              <input\n                name="login-password"\n                type="password"\n                placeholder="Password"\n                class="auth-input"\n                required\n              />\n            </label>\n            <br /> <button type="submit" class="auth-btn">Login</button>\n         '),t.classList.remove("hidden")})),t.addEventListener("click",(function(e){e.target===e.currentTarget&&a()}))}();var e=R.a.auth(),t=(R.a.firestore(),document.querySelector(".js-register-form")),n=document.querySelector(".js-login-form"),a=document.querySelector(".js-backdrop"),l=document.querySelector(".js-logout"),i=document.querySelectorAll(".logged-in"),s=document.querySelectorAll(".logged-out");function r(e){e?(i.forEach((function(e){return e.style.display="block"})),s.forEach((function(e){return e.style.display="none"}))):(i.forEach((function(e){return e.style.display="none"})),s.forEach((function(e){return e.style.display="block"})))}e.onAuthStateChanged((function(e){e?r(e):r()})),t.addEventListener("submit",(function(n){n.preventDefault();var l=t.email.value,i=t.password.value;e.createUserWithEmailAndPassword(l,i).then((function(){t.reset(),a.classList.add("hidden")})).catch((function(e){return console.log(e)}))})),l.addEventListener("click",(function(t){t.preventDefault(),e.signOut()})),n.addEventListener("submit",(function(t){t.preventDefault();var l=n["login-email"].value,i=n["login-password"].value;e.signInWithEmailAndPassword(l,i).then((function(){n.reset(),a.classList.add("hidden")})).catch((function(e){return console.log(e)}))}))}var W=new I;function F(){var e=k();e.bodyRef.innerHTML="",W.resetPage(),e.bodyRef.insertAdjacentHTML("beforeend",x.a),e.bodyRef.insertAdjacentHTML("beforeend",l.a);var t=document.querySelector(".films-list"),n=document.querySelector(".form"),a=document.querySelector(".search-error"),i=document.querySelector("[data-link]"),s=document.querySelector(".link");function r(){var e=document.querySelectorAll(".film-item")[0];setTimeout((function(){e.scrollIntoView({behavior:"smooth"})}),50)}n.addEventListener("submit",(function(e){e.preventDefault(),a.classList.add("hidden"),W.query=e.currentTarget.elements.query.value,""!==W.query.trim()&&(W.resetPage(),W.fetchFilmsCount().then((function(e){W.fetchFilms().then((function(n){0!==n.length?(t.innerHTML="",t.insertAdjacentHTML("beforeend",j()(n)),H({elementRef:document.querySelector("#paginator-placeholder"),totalResults:e,perPage:g(),loadPage:function(e){W.page=e,W.fetchFilms().then((function(e){t.innerHTML="",t.insertAdjacentHTML("beforeend",j()(e)),r()}))}})):a.classList.remove("hidden")}))})))})),i.addEventListener("click",(function(e){e.preventDefault(),E()})),t.addEventListener("click",(function(t){if("IMG"===t.target.nodeName){var n=t.target.getAttribute("data-id");e.bodyRef.insertAdjacentHTML("beforeend",'<div class="backdrop is-hidden "></div>'),C(n)}})),s.addEventListener("click",F),W.fetchPopularFilmsCount().then((function(e){W.insertGenres().then((function(n){t.insertAdjacentHTML("beforeend",j()(n)),H({elementRef:document.querySelector("#paginator-placeholder"),totalResults:e,perPage:g(),loadPage:function(e){W.page=e,W.insertGenres().then((function(e){t.innerHTML="",t.insertAdjacentHTML("beforeend",j()(e)),r()}))}})}))})),J()}document.querySelector("body"),new I;F()},Zxpw:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,l){var i,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,o="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\r\n<li class="film-item">\r\n    <img class="img-films" data-id="'+c(typeof(i=null!=(i=u(n,"id")||(null!=t?u(t,"id"):t))?i:r)===o?i.call(s,{name:"id",hash:{},data:l,loc:{start:{line:4,column:36},end:{line:4,column:42}}}):i)+'" src="https://image.tmdb.org/t/p/w500'+c(typeof(i=null!=(i=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?i:r)===o?i.call(s,{name:"poster_path",hash:{},data:l,loc:{start:{line:4,column:80},end:{line:4,column:95}}}):i)+'" alt="'+c(typeof(i=null!=(i=u(n,"title")||(null!=t?u(t,"title"):t))?i:r)===o?i.call(s,{name:"title",hash:{},data:l,loc:{start:{line:4,column:102},end:{line:4,column:111}}}):i)+'" />\r\n    <h2 class="tittle-film">'+c(typeof(i=null!=(i=u(n,"title")||(null!=t?u(t,"title"):t))?i:r)===o?i.call(s,{name:"title",hash:{},data:l,loc:{start:{line:5,column:28},end:{line:5,column:37}}}):i)+'</h2>\r\n\r\n    <p class="genre-film">'+c(typeof(i=null!=(i=u(n,"genres")||(null!=t?u(t,"genres"):t))?i:r)===o?i.call(s,{name:"genres",hash:{},data:l,loc:{start:{line:7,column:26},end:{line:7,column:36}}}):i)+" | "+c(typeof(i=null!=(i=u(n,"release_date")||(null!=t?u(t,"release_date"):t))?i:r)===o?i.call(s,{name:"release_date",hash:{},data:l,loc:{start:{line:7,column:39},end:{line:7,column:55}}}):i)+"</p>\r\n</li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,l){var i;return null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:0},end:{line:9,column:9}}}))?i:""},useData:!0})},"q8l/":function(e,t,n){},tYtW:function(e,t,n){var a=n("vy/h"),l=n("4din"),i='<div class="modal"> <header class="header modal-header"> <div class="container"> <div class="main-navigation"> <a href="#" data-logo class="link"> <svg class="icon-logo" width="24" height="24"> <use href="'+a(l,{hash:"#filmlogo"})+'"></use> </svg> <span class="text-logo">Filmoteka</span> </a> <ul class="list navigation"> <li class="nav-list"> <a href="#" data-home class="link nav-link">HOME</a> </li> <li class="nav-list"> <a href="#" data-lib class="link nav-link">MY LIBRARY</a> </li> </ul> </div> </div> </header> <div data-modal class="main container"></div> <footer class="footer"> <div class="container footer-content"> <div class="link-span">© 2020 | All Rights Reserved |</div> <div> <span> Developed with</span> <svg class="heard" width="14" height="13"> <use href="'+a(l,{hash:"#goitheard"})+'"></use> </svg> <span class="link-span">by</span> <a href="#" class="goit-link"> GoIT Students</a> </div> </div> </footer> </div> ';e.exports=i},"y+rR":function(e,t,n){var a='<header class="header library-header"> <div class="container"> <div class="main-navigation"> <a href="#" class="link"> <svg class="icon-logo" width="24" height="24"> <use href="'+n("vy/h")(n("4din"),{hash:"#filmlogo"})+'"></use> </svg> <span class="text-logo">Filmoteka</span> </a> <ul class="list navigation"> <li class="nav-list"> <a href="#" data-link class="link nav-link">HOME</a> </li> <li class="nav-list"> <a href="#" class="link nav-link current">MY LIBRARY</a> </li> </ul> </div> <ul class="list library-nav"> <li class="library-item"> <button type="button" class="library-btn watchedPageBtn current">WATCHED</button> </li> <li class="library-item"> <button type="button" class="library-btn queuePageBtn">QUEUE</button> </li> </ul> </div> </header> <main> <section class="section"> <div class="container"> <ul class="list films-list"></ul> </div> </section> </main> ';e.exports=a}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.56a31751af0a184aab4c.js.map