(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+5e+":function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,i){var l,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,o="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<img class="img" src="https://image.tmdb.org/t/p/w500'+c(typeof(l=null!=(l=d(n,"poster_path")||(null!=t?d(t,"poster_path"):t))?l:r)===o?l.call(s,{name:"poster_path",hash:{},data:i,loc:{start:{line:1,column:53},end:{line:1,column:68}}}):l)+'" alt="'+c(typeof(l=null!=(l=d(n,"title")||(null!=t?d(t,"title"):t))?l:r)===o?l.call(s,{name:"title",hash:{},data:i,loc:{start:{line:1,column:75},end:{line:1,column:84}}}):l)+'"></img>\r\n<div class="info" data-id='+c(typeof(l=null!=(l=d(n,"id")||(null!=t?d(t,"id"):t))?l:r)===o?l.call(s,{name:"id",hash:{},data:i,loc:{start:{line:2,column:26},end:{line:2,column:32}}}):l)+" data-image="+c(typeof(l=null!=(l=d(n,"poster_path")||(null!=t?d(t,"poster_path"):t))?l:r)===o?l.call(s,{name:"poster_path",hash:{},data:i,loc:{start:{line:2,column:44},end:{line:2,column:59}}}):l)+' data-title="'+c(typeof(l=null!=(l=d(n,"title")||(null!=t?d(t,"title"):t))?l:r)===o?l.call(s,{name:"title",hash:{},data:i,loc:{start:{line:2,column:72},end:{line:2,column:81}}}):l)+'" data-vote='+c(typeof(l=null!=(l=d(n,"vote_average")||(null!=t?d(t,"vote_average"):t))?l:r)===o?l.call(s,{name:"vote_average",hash:{},data:i,loc:{start:{line:2,column:93},end:{line:2,column:109}}}):l)+"\r\n    data-release="+c(typeof(l=null!=(l=d(n,"release_date")||(null!=t?d(t,"release_date"):t))?l:r)===o?l.call(s,{name:"release_date",hash:{},data:i,loc:{start:{line:3,column:17},end:{line:3,column:33}}}):l)+' data-genres="'+c(typeof(l=null!=(l=d(n,"genresName")||(null!=t?d(t,"genresName"):t))?l:r)===o?l.call(s,{name:"genresName",hash:{},data:i,loc:{start:{line:3,column:47},end:{line:3,column:61}}}):l)+'">\r\n    <h1 class="upper-text film-name">'+c(typeof(l=null!=(l=d(n,"title")||(null!=t?d(t,"title"):t))?l:r)===o?l.call(s,{name:"title",hash:{},data:i,loc:{start:{line:4,column:37},end:{line:4,column:46}}}):l)+'</h1>\r\n    <div class="list-container">\r\n        <ul class="list">\r\n            <li class="list1-item">Vote/Votes</li>\r\n            <li class="list1-item">Popularity</li>\r\n            <li class="list1-item">Original Title</li>\r\n            <li class="list1-item">Genre</li>\r\n        </ul>\r\n        <ul class="list">\r\n            <li class="list2-item">\r\n                <div class="number"><span>'+c(typeof(l=null!=(l=d(n,"vote_average")||(null!=t?d(t,"vote_average"):t))?l:r)===o?l.call(s,{name:"vote_average",hash:{},data:i,loc:{start:{line:14,column:42},end:{line:14,column:58}}}):l)+"</span></div>/ "+c(typeof(l=null!=(l=d(n,"vote_count")||(null!=t?d(t,"vote_count"):t))?l:r)===o?l.call(s,{name:"vote_count",hash:{},data:i,loc:{start:{line:14,column:73},end:{line:14,column:87}}}):l)+'\r\n            </li>\r\n            <li class="list2-item">'+c(typeof(l=null!=(l=d(n,"popularity")||(null!=t?d(t,"popularity"):t))?l:r)===o?l.call(s,{name:"popularity",hash:{},data:i,loc:{start:{line:16,column:35},end:{line:16,column:49}}}):l)+'</li>\r\n            <li class="upper-text list2-item">'+c(typeof(l=null!=(l=d(n,"original_title")||(null!=t?d(t,"original_title"):t))?l:r)===o?l.call(s,{name:"original_title",hash:{},data:i,loc:{start:{line:17,column:46},end:{line:17,column:64}}}):l)+'</li>\r\n            <li class="list2-item">'+c(typeof(l=null!=(l=d(n,"genresName")||(null!=t?d(t,"genresName"):t))?l:r)===o?l.call(s,{name:"genresName",hash:{},data:i,loc:{start:{line:18,column:35},end:{line:18,column:49}}}):l)+'</li>\r\n        </ul>\r\n    </div>\r\n    <section>\r\n        <h2 class="upper-text about-title">about</h2>\r\n        <p class="about">'+c(typeof(l=null!=(l=d(n,"overview")||(null!=t?d(t,"overview"):t))?l:r)===o?l.call(s,{name:"overview",hash:{},data:i,loc:{start:{line:23,column:25},end:{line:23,column:37}}}):l)+'</p>\r\n    </section>\r\n    <div class="buttons">\r\n        <button class="watched-button modal-buttons"><span class="upper-text">add to watched</span></button>\r\n        <button class="modal-buttons queue-btn"><span class="upper-text">add to queue</span></button>\r\n    </div>\r\n</div>'},useData:!0})},0:function(e,t){},"0HMw":function(e,t,n){},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},"4din":function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMCIgaGVpZ2h0PSIwIiBjbGFzcz0iaGlkZGVuIj4KICA8c3ltYm9sIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE0IDEzIiBpZD0iZ29pdGhlYXJkIj4KICAgIDxwYXRoIGQ9Ik03IDEyLjg4bC0uOTgtLjk4QzIuMzggOC42OCAwIDYuNTEgMCAzLjg1IDAgMS42OCAxLjY4IDAgMy44NSAwIDUuMDQgMCA2LjIzLjU2IDcgMS40NyA3Ljc3LjU2IDguOTYgMCAxMC4xNSAwIDEyLjMyIDAgMTQgMS42OCAxNCAzLjg1YzAgMi42Ni0yLjM4IDQuODMtNi4wMiA4LjA1bC0uOTguOTh6IiBmaWxsPSIjRkY2QjA4Ij48L3BhdGg+CiAgPC9zeW1ib2w+CiAgPHN5bWJvbCBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgaWQ9ImZpbG1sb2dvIj4KICAgIDxwYXRoIGQ9Ik0xOS44MiAySDQuMThBMi4xOCAyLjE4IDAgMDAyIDQuMTh2MTUuNjRBMi4xOCAyLjE4IDAgMDA0LjE4IDIyaDE1LjY0QTIuMTggMi4xOCAwIDAwMjIgMTkuODJWNC4xOEEyLjE4IDIuMTggMCAwMDE5LjgyIDJ6TTcgMnYyME0xNyAydjIwTTIgMTJoMjBNMiA3aDVNMiAxN2g1bTEwIDBoNU0xNyA3aDUiIHN0cm9rZT0iIzgxODE4MSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjwvcGF0aD4KICA8L3N5bWJvbD4KICA8c3ltYm9sIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEyIDEyIiBpZD0ic2VhcmNoIj4KICAgIDxwYXRoIGQ9Ik01LjUgOS41YTQgNCAwIDEwMC04IDQgNCAwIDAwMCA4em01IDFMOC4zMjUgOC4zMjUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48L3BhdGg+CiAgPC9zeW1ib2w+Cjwvc3ZnPg=="},5:function(e,t){},"6/cO":function(e,t,n){var a='<footer class="footer"> <div class="container footer-content"> <div class="link-span">© 2020 | All Rights Reserved |</div> <div> <span> Developed with</span> <svg class="heard" width="14" height="13"> <use href="'+n("vy/h")(n("4din"),{hash:"#goitheard"})+'"></use> </svg> <span class="link-span">by</span> <a href="#" class="goit-link"> GoIT Students</a> </div> </div> </footer> ';e.exports=a},DrXy:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,i){var l,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,o="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <li class="film-item">\r\n        <img class="img-films" data-id="'+c(typeof(l=null!=(l=d(n,"id")||(null!=t?d(t,"id"):t))?l:r)===o?l.call(s,{name:"id",hash:{},data:i,loc:{start:{line:4,column:40},end:{line:4,column:46}}}):l)+'" src="https://image.tmdb.org/t/p/w500'+c(typeof(l=null!=(l=d(n,"image")||(null!=t?d(t,"image"):t))?l:r)===o?l.call(s,{name:"image",hash:{},data:i,loc:{start:{line:4,column:84},end:{line:4,column:93}}}):l)+'" alt="'+c(typeof(l=null!=(l=d(n,"title")||(null!=t?d(t,"title"):t))?l:r)===o?l.call(s,{name:"title",hash:{},data:i,loc:{start:{line:4,column:100},end:{line:4,column:109}}}):l)+'">\r\n        <h2 class="tittle-film">'+c(typeof(l=null!=(l=d(n,"title")||(null!=t?d(t,"title"):t))?l:r)===o?l.call(s,{name:"title",hash:{},data:i,loc:{start:{line:5,column:32},end:{line:5,column:41}}}):l)+'</h2>\r\n        <p class="genre-film">'+c(typeof(l=null!=(l=d(n,"genres")||(null!=t?d(t,"genres"):t))?l:r)===o?l.call(s,{name:"genres",hash:{},data:i,loc:{start:{line:6,column:30},end:{line:6,column:40}}}):l)+" | "+c(typeof(l=null!=(l=d(n,"reliaseDate")||(null!=t?d(t,"reliaseDate"):t))?l:r)===o?l.call(s,{name:"reliaseDate",hash:{},data:i,loc:{start:{line:6,column:43},end:{line:6,column:58}}}):l)+'<span class="rating-films">'+c(typeof(l=null!=(l=d(n,"vote")||(null!=t?d(t,"vote"):t))?l:r)===o?l.call(s,{name:"vote",hash:{},data:i,loc:{start:{line:6,column:85},end:{line:6,column:93}}}):l)+"</span>\r\n        </p>\r\n    </li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,i){var l;return null!=(l=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:2,column:4},end:{line:9,column:13}}}))?l:""},useData:!0})},NgEA:function(e,t,n){var a=n("vy/h"),i=n("4din"),l='<header class="header"> <div class="container"> <div class="main-navigation"> <a href="#" class="link"> <svg class="icon-logo" width="24" height="24"> <use href="'+a(i,{hash:"#filmlogo"})+'"></use> </svg> <span class="text-logo">Filmoteka</span> </a> <ul class="list navigation"> <li class="nav-list"> <a href="#" class="link nav-link current logged-in">HOME</a> </li> <li class="nav-list"> <a href="#" data-link class="link nav-link logged-in">MY LIBRARY</a> </li> <li class="nav-list"> <a href="#" class="link nav-link js-logout logged-in">LOGOUT</a> </li> <li class="nav-list"> <a href="#" class="link nav-link js-login logged-out">LOGIN</a> </li> <li class="nav-list"> <a href="#" class="link nav-link js-signup logged-out">SIGN UP</a> </li> </ul> <div class="auth-backdrop hidden js-backdrop"> <div class="auth-modal js-modal"> <form class="js-register-form"></form> <form class="js-login-form"></form> </div> </div> </div> <form action="" class="form"> <input type="text" name="query" placeholder="Поиск фильмов" class="form-input"/> <button type="submit" class="form-button"> <svg class="icon-logo" width="12" height="12"> <use href="'+a(i,{hash:"#search"})+'"></use> </svg> </button> </form> <p class="search-error hidden"> Search result not successful. Enter the correct movie name and </p> </div> </header> <main> <section class="section" id="section"> <div class="container"> <ul class="list films-list"></ul> </div> </section> <div id="paginator-placeholder"></div> </main> ';e.exports=l},QfWi:function(e,t,n){"use strict";n.r(t);n("0HMw");var a=n("6/cO"),i=n.n(a),l=n("tYtW"),s=n.n(l);n("lYjL"),n("Se8w"),n("lmye"),n("bEJU"),n("D/wG"),n("wCa+"),n("JBxO"),n("FdtR"),n("Muwe"),n("aZFp"),n("wcNg");function r(e,t,n,a,i,l,s){try{var r=e[l](s),o=r.value}catch(e){return void n(e)}r.done?t(o):Promise.resolve(o).then(a,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var l=e.apply(t,n);function s(e){r(l,a,i,s,o,"next",e)}function o(e){r(l,a,i,s,o,"throw",e)}s(void 0)}))}}function c(e){return d.apply(this,arguments)}function d(){return(d=o(regeneratorRuntime.mark((function e(t){var n,a,i,l,s,r,o,c,d,u,p,g,h,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.page,a=t.perPage,i=t.sPerPage,l=void 0===i?20:i,s=t.doFetch,r=n*a,o=[],c=[],d=(n-1)*a;case 6:if(!(d<r)){e.next=22;break}if(!c[d]){e.next=12;break}o.push(c[d]),d++,e.next=20;break;case 12:return u=Math.floor(d/l)+1,e.next=15,s(u);case 15:for(p=e.sent,g=u*l,h=0,m=(u-1)*l;m<g;m++)f=p[h++],c[m]=Object.assign({sPage:u},f);case 20:e.next=6;break;case 22:return e.abrupt("return",o);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var u=768,p=1024;function g(){var e=window.innerWidth;return e>p?9:e>u?8:4}function h(){var e=window.innerWidth;return e>p||e>u?1:0}var m=n("qIEf"),f=n.n(m);function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var y="da596067165f304bd61b992449ff5b38",b="https://api.themoviedb.org/3",w=function(){function e(){this.searchQ="",this.page=1,this.id=null}var t,n,a,i=e.prototype;return i.fetchPopularFilmsCount=function(){return fetch("https://api.themoviedb.org/3/trending/movie/day?&page=1&api_key=da596067165f304bd61b992449ff5b38").then((function(e){return e.json()})).then((function(e){return e.total_results}))},i.fetchPopularFilms=function(){return c({page:this.page,perPage:g(),doFetch:function(e){return fetch(b+"/trending/movie/day?&page="+e+"&api_key="+y).then((function(e){return e.json()})).then((function(e){return e.results}))}})},i.fetchFilmsCount=function(){var e=b+"/search/movie?&page=1&api_key="+y+"&query="+this.searchQ;return fetch(e).then((function(e){return e.json()})).then((function(e){return e.total_results}))},i.fetchFilms=function(){var e=this;return c({page:this.page,perPage:g(),doFetch:function(t){var n=b+"/search/movie?&page="+t+"&api_key="+y+"&query="+e.searchQ;return fetch(n).then((function(e){return e.json()})).then((function(e){return e.results}))}})},i.fetchDetailFilm=function(){var e=b+"/movie/"+this.id+"?api_key="+y;return fetch(e).then((function(e){return e.json()}))},i.fetchGenres=function(){return fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=da596067165f304bd61b992449ff5b38").then((function(e){return e.json()})).then((function(e){return e.genres}))},i.fetchDetailFilmWithNameGerges=function(){return this.fetchDetailFilm().then((function(e){return Object.assign({},e,{release_date:e.release_date.split("-")[0],genresName:e.genres.map((function(e){return e.name=" "+e.name}))})}))},i.insertGenres=function(){var e=this;return this.fetchPopularFilms().then((function(t){return e.fetchGenres().then((function(e){return t.map((function(t){return Object.assign({},t,{release_date:t.release_date.split("-")[0],genres:t.genre_ids.map((function(t){return e.filter((function(e){return e.id===t})).map((function(e){return e.name=" "+e.name}))})).flat()})}))}))}))},i.insertSearhGenres=function(){var e=this;return this.fetchFilms().then((function(t){return console.log(t),e.fetchGenres().then((function(e){return t.map((function(t){return Object.assign({},t,{release_date:t.release_date.split("-")[0],genres:t.genre_ids.map((function(t){return e.filter((function(e){return e.id===t})).map((function(e){return e.name=" "+e.name}))})).flat()})}))})).catch((function(e){return 0}))}))},i.resetPage=function(){this.page=1},t=e,(n=[{key:"query",get:function(){return this.searchQ},set:function(e){this.searchQ=e}}])&&v(t.prototype,n),a&&v(t,a),e}(),I=(n("NPBq"),n("+5e+")),P=n.n(I);n("SgDD");function k(){return{bodyRef:document.querySelector("body")}}var M=n("NgEA"),L=n.n(M),x=n("Zxpw"),S=n.n(x),j=(n("IvQZ"),n("4NM0"),n("y+rR")),A=n.n(j),_=n("DrXy"),D=n.n(_),E={spinner:n("dcBu").create('<div class="loader">\n<div class="loader-inner">\n  <div class="loader-line-wrap">\n    <div class="loader-line"></div>\n  </div>\n  <div class="loader-line-wrap">\n    <div class="loader-line"></div>\n  </div>\n  <div class="loader-line-wrap">\n    <div class="loader-line"></div>\n  </div>\n  <div class="loader-line-wrap">\n    <div class="loader-line"></div>\n  </div>\n  <div class="loader-line-wrap">\n    <div class="loader-line"></div>\n  </div>\n</div>\n</div>')};new w;function T(){var e=k();e.bodyRef.innerHTML="",e.bodyRef.insertAdjacentHTML("beforeend",A.a),e.bodyRef.insertAdjacentHTML("beforeend",i.a);var t=document.querySelector(".films-list"),n=document.querySelector(".link"),a=document.querySelector("[data-link]"),l=document.querySelector(".watchedPageBtn"),s=document.querySelector(".queuePageBtn");function r(){t.innerHTML="",s.classList.remove("current"),l.classList.add("current");var e=JSON.parse(localStorage.getItem("watched"));console.log(e),null===e?t.insertAdjacentHTML("beforeend",'<li><div class="notification"><h2>You do not have to watched movies. Add them.</h2></div></li>'):t.insertAdjacentHTML("beforeend",D()(e))}r(),a.addEventListener("click",Z),n.addEventListener("click",Z),l.addEventListener("click",r),s.addEventListener("click",(function(){t.innerHTML="",s.classList.add("current"),l.classList.remove("current");var e=JSON.parse(localStorage.getItem("queue"));console.log(e),null===e?t.insertAdjacentHTML("beforeend",'<li><div class="notification"><h2>You do not have to queue movies to watch. Add them.</h2></div></li>'):t.insertAdjacentHTML("beforeend",D()(e))})),t.addEventListener("click",(function(t){if("IMG"===t.target.nodeName){var n=t.target.getAttribute("data-id");e.bodyRef.insertAdjacentHTML("beforeend",'<div class="backdrop is-hidden"></div>'),N(n)}}))}var O=[],C=[];function N(e){var t=new w,n=document.querySelector(".backdrop");n.innerHTML="",n.insertAdjacentHTML("beforeend",s.a);var a={modalContent:document.querySelector("[data-modal]"),homelink:document.querySelector("[data-home]"),liblink:document.querySelector("[data-lib]"),logolink:document.querySelector("[data-logo]")};function i(){n.classList.add("is-hidden"),window.removeEventListener("keydown",l),n.remove()}function l(e){"Escape"===e.code&&i()}t.id=e,t.fetchDetailFilmWithNameGerges().then((function(e){n.classList.remove("is-hidden"),a.modalContent.insertAdjacentHTML("beforeend",P()(e));var t=document.querySelector(".watched-button"),i=document.querySelector(".queue-btn"),s=document.querySelector(".info");t.addEventListener("click",(function(){var e=localStorage.getItem("watched"),t=localStorage.getItem("queue"),n={};if(n.id=s.dataset.id,n.genres=s.dataset.genres,n.image=s.dataset.image,n.title=s.dataset.title,n.vote=s.dataset.vote,n.reliaseDate=s.dataset.release,t&&t.includes(JSON.stringify(n))){var a=JSON.parse(localStorage.getItem("queue"));a=a.filter((function(e){return e.id!==n.id})),localStorage.setItem("queue",JSON.stringify(a))}if(e&&e.includes(JSON.stringify(n)))return void alert('Фильм уже добавлен в "Просмотренные"');O.push(n),localStorage.setItem("watched",JSON.stringify(O))})),i.addEventListener("click",(function(){var e={},t=localStorage.getItem("queue"),n=localStorage.getItem("watched");if(e.id=s.dataset.id,e.genres=s.dataset.genres,e.image=s.dataset.image,e.title=s.dataset.title,e.vote=s.dataset.vote,e.reliaseDate=s.dataset.release,n&&n.includes(JSON.stringify(e))){var a=JSON.parse(localStorage.getItem("watched"));a=a.filter((function(t){return t.id!==e.id})),console.log(a),localStorage.setItem("watched",JSON.stringify(a)),console.log("Now")}if(t&&t.includes(JSON.stringify(e)))return void alert('Фильм уже добавлен в "Очередь просмотров"');C.push(e),localStorage.setItem("queue",JSON.stringify(C))})),window.addEventListener("keydown",l)})),a.logolink.addEventListener("click",Z),a.homelink.addEventListener("click",Z),a.liblink.addEventListener("click",T),n.addEventListener("click",(function(e){e.target===e.currentTarget&&i()}))}var q,H;n("IlJM"),n("WB5j"),n("q8l/");function R(e){var t,n=e.elementRef,a=e.totalResults,i=e.perPage,l=e.loadPage;f()(n).pagination("destroy"),f()(n).pagination({items:a,itemsOnPage:i,cssStyle:"light-theme",prevText:"_",nextText:"_",displayedPages:(t=window.innerWidth,t>p||t>u?5:3),edges:h(),onPageClick:function(e,t){l(e)}})}q=f.a,H={init:function(e){var t=q.extend({items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:0,hrefTextPrefix:"#page-",hrefTextSuffix:"",prevText:"Prev",nextText:"Next",ellipseText:"&hellip;",ellipsePageSet:!0,cssStyle:"light-theme",listStyle:"",labelMap:[],selectOnClick:!0,nextAtFront:!1,invertPageOrder:!1,useStartEdge:!0,useEndEdge:!0,onPageClick:function(e,t){},onInit:function(){}},e||{}),n=this;return t.pages=t.pages?t.pages:Math.ceil(t.items/t.itemsOnPage)?Math.ceil(t.items/t.itemsOnPage):1,t.currentPage?t.currentPage=t.currentPage-1:t.currentPage=t.invertPageOrder?t.pages-1:0,t.halfDisplayed=t.displayedPages/2,this.each((function(){n.addClass(t.cssStyle+" simple-pagination").data("pagination",t),H._draw.call(n)})),t.onInit(),this},selectPage:function(e){return H._selectPage.call(this,e-1),this},prevPage:function(){var e=this.data("pagination");return e.invertPageOrder?e.currentPage<e.pages-1&&H._selectPage.call(this,e.currentPage+1):e.currentPage>0&&H._selectPage.call(this,e.currentPage-1),this},nextPage:function(){var e=this.data("pagination");return e.invertPageOrder?e.currentPage>0&&H._selectPage.call(this,e.currentPage-1):e.currentPage<e.pages-1&&H._selectPage.call(this,e.currentPage+1),this},getPagesCount:function(){return this.data("pagination").pages},setPagesCount:function(e){this.data("pagination").pages=e},getCurrentPage:function(){return this.data("pagination").currentPage+1},destroy:function(){return this.empty(),this},drawPage:function(e){var t=this.data("pagination");return t.currentPage=e-1,this.data("pagination",t),H._draw.call(this),this},redraw:function(){return H._draw.call(this),this},disable:function(){var e=this.data("pagination");return e.disabled=!0,this.data("pagination",e),H._draw.call(this),this},enable:function(){var e=this.data("pagination");return e.disabled=!1,this.data("pagination",e),H._draw.call(this),this},updateItems:function(e){var t=this.data("pagination");t.items=e,t.pages=H._getPages(t),this.data("pagination",t),H._draw.call(this)},updateItemsOnPage:function(e){var t=this.data("pagination");return t.itemsOnPage=e,t.pages=H._getPages(t),this.data("pagination",t),H._selectPage.call(this,0),this},getItemsOnPage:function(){return this.data("pagination").itemsOnPage},_draw:function(){var e,t=this.data("pagination"),n=H._getInterval(t);H.destroy.call(this);var a="UL"===("function"==typeof this.prop?this.prop("tagName"):this.attr("tagName"))?this:q("<ul"+(t.listStyle?' class="'+t.listStyle+'"':"")+"></ul>").appendTo(this);if(t.prevText&&H._appendItem.call(this,t.invertPageOrder?t.currentPage+1:t.currentPage-1,{text:t.prevText,classes:"prev"}),t.nextText&&t.nextAtFront&&H._appendItem.call(this,t.invertPageOrder?t.currentPage-1:t.currentPage+1,{text:t.nextText,classes:"next"}),t.invertPageOrder){if(n.end<t.pages&&t.edges>0){if(t.useStartEdge){var i=Math.max(t.pages-t.edges,n.end);for(e=t.pages-1;e>=i;e--)H._appendItem.call(this,e)}t.pages-t.edges>n.end&&t.pages-t.edges-n.end!=1?a.append('<li class="disabled"><span class="ellipse">'+t.ellipseText+"</span></li>"):t.pages-t.edges-n.end==1&&H._appendItem.call(this,n.end)}}else if(n.start>0&&t.edges>0){if(t.useStartEdge){var l=Math.min(t.edges,n.start);for(e=0;e<l;e++)H._appendItem.call(this,e)}t.edges<n.start&&n.start-t.edges!=1?a.append('<li class="disabled"><span class="ellipse">'+t.ellipseText+"</span></li>"):n.start-t.edges==1&&H._appendItem.call(this,t.edges)}if(t.invertPageOrder)for(e=n.end-1;e>=n.start;e--)H._appendItem.call(this,e);else for(e=n.start;e<n.end;e++)H._appendItem.call(this,e);if(t.invertPageOrder){if(n.start>0&&t.edges>0&&(t.edges<n.start&&n.start-t.edges!=1?a.append('<li class="disabled"><span class="ellipse">'+t.ellipseText+"</span></li>"):n.start-t.edges==1&&H._appendItem.call(this,t.edges),t.useEndEdge))for(e=(l=Math.min(t.edges,n.start))-1;e>=0;e--)H._appendItem.call(this,e)}else if(n.end<t.pages&&t.edges>0&&(t.pages-t.edges>n.end&&t.pages-t.edges-n.end!=1?a.append('<li class="disabled"><span class="ellipse">'+t.ellipseText+"</span></li>"):t.pages-t.edges-n.end==1&&H._appendItem.call(this,n.end),t.useEndEdge))for(e=i=Math.max(t.pages-t.edges,n.end);e<t.pages;e++)H._appendItem.call(this,e);t.nextText&&!t.nextAtFront&&H._appendItem.call(this,t.invertPageOrder?t.currentPage-1:t.currentPage+1,{text:t.nextText,classes:"next"}),t.ellipsePageSet&&!t.disabled&&H._ellipseClick.call(this,a)},_getPages:function(e){return Math.ceil(e.items/e.itemsOnPage)||1},_getInterval:function(e){return{start:Math.ceil(e.currentPage>e.halfDisplayed?Math.max(Math.min(e.currentPage-e.halfDisplayed,e.pages-e.displayedPages),0):0),end:Math.ceil(e.currentPage>e.halfDisplayed?Math.min(e.currentPage+e.halfDisplayed,e.pages):Math.min(e.displayedPages,e.pages))}},_appendItem:function(e,t){var n,a,i=this,l=i.data("pagination"),s=q("<li></li>"),r=i.find("ul");n={text:(e=e<0?0:e<l.pages?e:l.pages-1)+1,classes:""},l.labelMap.length&&l.labelMap[e]&&(n.text=l.labelMap[e]),n=q.extend(n,t||{}),e==l.currentPage||l.disabled?(l.disabled||"prev"===n.classes||"next"===n.classes?s.addClass("disabled"):s.addClass("active"),a=q('<span class="current">'+n.text+"</span>")):(a=q('<a href="'+l.hrefTextPrefix+(e+1)+l.hrefTextSuffix+'" class="page-link">'+n.text+"</a>")).click((function(t){return H._selectPage.call(i,e,t)})),n.classes&&a.addClass(n.classes),s.append(a),r.length?r.append(s):i.append(s)},_selectPage:function(e,t){var n=this.data("pagination");return n.currentPage=e,n.selectOnClick&&H._draw.call(this),n.onPageClick(e+1,t)},_ellipseClick:function(e){var t=this,n=this.data("pagination"),a=e.find(".ellipse");a.addClass("clickable").parent().removeClass("disabled"),a.click((function(e){if(!n.disable){var i=q(this),l=(parseInt(i.parent().prev().text(),10)||0)+1;i.html('<input type="number" min="1" max="'+n.pages+'" step="1" value="'+l+'">').find("input").focus().click((function(e){e.stopPropagation()})).keyup((function(e){var i=q(this).val();13===e.which&&""!==i?i>0&&i<=n.pages&&H._selectPage.call(t,i-1):27===e.which&&a.empty().html(n.ellipseText)})).bind("blur",(function(e){var i=q(this).val();return""!==i&&H._selectPage.call(t,i-1),a.empty().html(n.ellipseText),!1}))}return!1}))}},q.fn.pagination=function(e){return H[e]&&"_"!=e.charAt(0)?H[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void q.error("Method "+e+" does not exist on jQuery.pagination"):H.init.apply(this,arguments)};n("RtS0"),n("3dw1");var G=n("SzhR");n("VwVG"),n("ELjB");var J={apiKey:"AIzaSyD8FnUfZWnKXjBhhdLmvKeEnxMua2fFWzk",authDomain:"filmoteka-ce20f.firebaseapp.com",projectId:"filmoteka-ce20f",storageBucket:"filmoteka-ce20f.appspot.com",messagingSenderId:"1092324271578",appId:"1:1092324271578:web:801259c858eac0c4e10ce3"};function W(){G.a.apps.length?G.a.app():G.a.initializeApp(J),function(){var e=document.querySelector(".js-signup"),t=document.querySelector(".js-backdrop"),n=document.querySelector(".js-register-form");function a(){window.removeEventListener("keydown",i),t.classList.add("hidden"),n.innerHTML=""}function i(e){"Escape"===e.code&&a()}e.addEventListener("click",(function(){window.addEventListener("keydown",i),n.insertAdjacentHTML("beforeend",'<label>\n              <input\n                type="email"\n                name="email"\n                autocomplete="off"\n                placeholder="Email"\n                class="auth-input"\n                required\n              />\n            </label>\n            <br />\n            <label>\n              <input\n                name="password"\n                type="password"\n                placeholder="Password"\n                class="auth-input"\n                required\n              />\n            </label>\n            <br />\n            <button type="submit" class="auth-btn">Sign up</button>\n         '),t.classList.remove("hidden")})),t.addEventListener("click",(function(e){e.target===e.currentTarget&&a()}))}(),function(){var e=document.querySelector(".js-login"),t=document.querySelector(".js-backdrop"),n=document.querySelector(".js-login-form");function a(){window.removeEventListener("keydown",i),t.classList.add("hidden"),n.innerHTML=""}function i(e){"Escape"===e.code&&a()}console.log(t),e.addEventListener("click",(function(){window.addEventListener("keydown",i),n.insertAdjacentHTML("beforeend",'<label>\n              <input\n                type="email"\n                name="login-email"\n                autocomplete="off"\n                placeholder="Email"\n                class="auth-input"\n                required\n              />\n            </label>\n            <br />\n            <label>\n              <input\n                name="login-password"\n                type="password"\n                placeholder="Password"\n                class="auth-input"\n                required\n              />\n            </label>\n            <br /> <button type="submit" class="auth-btn">Login</button>\n         '),t.classList.remove("hidden")})),t.addEventListener("click",(function(e){e.target===e.currentTarget&&a()}))}();var e=G.a.auth(),t=(G.a.firestore(),document.querySelector(".js-register-form")),n=document.querySelector(".js-login-form"),a=document.querySelector(".js-backdrop"),i=document.querySelector(".js-logout"),l=document.querySelectorAll(".logged-in"),s=document.querySelectorAll(".logged-out");function r(e){e?(l.forEach((function(e){return e.style.display="block"})),s.forEach((function(e){return e.style.display="none"}))):(l.forEach((function(e){return e.style.display="none"})),s.forEach((function(e){return e.style.display="block"})))}e.onAuthStateChanged((function(e){e?r(e):r()})),t.addEventListener("submit",(function(n){n.preventDefault();var i=t.email.value,l=t.password.value;e.createUserWithEmailAndPassword(i,l).then((function(){t.reset(),a.classList.add("hidden")})).catch((function(e){return console.log(e)}))})),i.addEventListener("click",(function(t){t.preventDefault(),e.signOut()})),n.addEventListener("submit",(function(t){t.preventDefault();var i=n["login-email"].value,l=n["login-password"].value;e.signInWithEmailAndPassword(i,l).then((function(){n.reset(),a.classList.add("hidden")})).catch((function(e){return console.log(e)}))}))}var B=new w;function Z(){var e=k();e.bodyRef.innerHTML="",B.resetPage(),e.bodyRef.insertAdjacentHTML("beforeend",L.a),e.bodyRef.insertAdjacentHTML("beforeend",i.a);var t=document.querySelector(".films-list"),n=document.querySelector(".form"),a=document.querySelector(".search-error"),l=document.querySelector("[data-link]"),s=document.querySelector(".link");function r(){var e=document.querySelectorAll(".film-item")[0];setTimeout((function(){e.scrollIntoView({behavior:"smooth"})}),50)}n.addEventListener("submit",(function(e){e.preventDefault(),a.classList.add("hidden"),B.query=e.currentTarget.elements.query.value,""!==B.query.trim()&&(E.spinner.close(),B.resetPage(),B.fetchFilmsCount().then((function(e){e>0?B.insertSearhGenres().then((function(n){0!==n?(E.spinner.show(),t.innerHTML="",t.insertAdjacentHTML("beforeend",S()(n)),R({elementRef:document.querySelector("#paginator-placeholder"),totalResults:e,perPage:g(),loadPage:function(e){B.page=e,B.insertSearhGenres().then((function(e){t.innerHTML="",t.insertAdjacentHTML("beforeend",S()(e)),r()}))}})):(E.spinner.close(),a.classList.remove("hidden"))})):(E.spinner.close(),a.classList.remove("hidden"))})))})),l.addEventListener("click",(function(e){E.spinner.show(),e.preventDefault(),T()})),t.addEventListener("click",(function(t){if(E.spinner.show(),"IMG"===t.target.nodeName){E.spinner.close();var n=t.target.getAttribute("data-id");e.bodyRef.insertAdjacentHTML("beforeend",'<div class="backdrop is-hidden "></div>'),N(n)}})),s.addEventListener("click",Z),B.fetchPopularFilmsCount().then((function(e){E.spinner.show(),B.insertGenres().then((function(n){E.spinner.close(),t.insertAdjacentHTML("beforeend",S()(n)),R({elementRef:document.querySelector("#paginator-placeholder"),totalResults:e,perPage:g(),loadPage:function(e){E.spinner.show(),B.page=e,B.insertGenres().then((function(e){E.spinner.close(),t.innerHTML="",t.insertAdjacentHTML("beforeend",S()(e)),r()}))}})}))})),W()}document.querySelector("body"),new w;Z()},Zxpw:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,i){var l,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,o="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\r\n<li class="film-item">\r\n    <img class="img-films" data-id="'+c(typeof(l=null!=(l=d(n,"id")||(null!=t?d(t,"id"):t))?l:r)===o?l.call(s,{name:"id",hash:{},data:i,loc:{start:{line:4,column:36},end:{line:4,column:42}}}):l)+'" src="https://image.tmdb.org/t/p/w500'+c(typeof(l=null!=(l=d(n,"poster_path")||(null!=t?d(t,"poster_path"):t))?l:r)===o?l.call(s,{name:"poster_path",hash:{},data:i,loc:{start:{line:4,column:80},end:{line:4,column:95}}}):l)+'" alt="'+c(typeof(l=null!=(l=d(n,"title")||(null!=t?d(t,"title"):t))?l:r)===o?l.call(s,{name:"title",hash:{},data:i,loc:{start:{line:4,column:102},end:{line:4,column:111}}}):l)+'" />\r\n    <h2 class="tittle-film">'+c(typeof(l=null!=(l=d(n,"title")||(null!=t?d(t,"title"):t))?l:r)===o?l.call(s,{name:"title",hash:{},data:i,loc:{start:{line:5,column:28},end:{line:5,column:37}}}):l)+'</h2>\r\n\r\n    <p class="genre-film">'+c(typeof(l=null!=(l=d(n,"genres")||(null!=t?d(t,"genres"):t))?l:r)===o?l.call(s,{name:"genres",hash:{},data:i,loc:{start:{line:7,column:26},end:{line:7,column:36}}}):l)+" | "+c(typeof(l=null!=(l=d(n,"release_date")||(null!=t?d(t,"release_date"):t))?l:r)===o?l.call(s,{name:"release_date",hash:{},data:i,loc:{start:{line:7,column:39},end:{line:7,column:55}}}):l)+"</p>\r\n</li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,i){var l;return null!=(l=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:1,column:0},end:{line:9,column:9}}}))?l:""},useData:!0})},"q8l/":function(e,t,n){},tYtW:function(e,t,n){var a=n("vy/h"),i=n("4din"),l='<div class="modal"> <header class="header modal-header"> <div class="container"> <div class="main-navigation"> <a href="#" data-logo class="link"> <svg class="icon-logo" width="24" height="24"> <use href="'+a(i,{hash:"#filmlogo"})+'"></use> </svg> <span class="text-logo">Filmoteka</span> </a> <ul class="list navigation"> <li class="nav-list"> <a href="#" data-home class="link nav-link">HOME</a> </li> <li class="nav-list"> <a href="#" data-lib class="link nav-link">MY LIBRARY</a> </li> </ul> </div> </div> </header> <div data-modal class="main container"></div> <footer class="footer"> <div class="container footer-content"> <div class="link-span">© 2020 | All Rights Reserved |</div> <div> <span> Developed with</span> <svg class="heard" width="14" height="13"> <use href="'+a(i,{hash:"#goitheard"})+'"></use> </svg> <span class="link-span">by</span> <a href="#" class="goit-link"> GoIT Students</a> </div> </div> </footer> </div> ';e.exports=l},"y+rR":function(e,t,n){var a='<header class="header library-header"> <div class="container"> <div class="main-navigation"> <a href="#" class="link"> <svg class="icon-logo" width="24" height="24"> <use href="'+n("vy/h")(n("4din"),{hash:"#filmlogo"})+'"></use> </svg> <span class="text-logo">Filmoteka</span> </a> <ul class="list navigation"> <li class="nav-list"> <a href="#" data-link class="link nav-link">HOME</a> </li> <li class="nav-list"> <a href="#" class="link nav-link current">MY LIBRARY</a> </li> </ul> </div> <ul class="list library-nav"> <li class="library-item"> <button type="button" class="library-btn watchedPageBtn current">WATCHED</button> </li> <li class="library-item"> <button type="button" class="library-btn queuePageBtn">QUEUE</button> </li> </ul> </div> </header> <main> <section class="section"> <div class="container"> <ul class="list films-list"></ul> </div> </section> </main> ';e.exports=a}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.0f90c2194e75257114a7.js.map